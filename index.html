<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metallurgy Mysteries: Scan to Discover</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=IM+Fell+English+SC&display=swap" rel="stylesheet">

    <style>
        /* General Body & Background Styling */
        body {
            margin: 0;
            padding: 0;
            font-family: 'Cinzel', serif;
            color: #e0dacc;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden; /* Prevent horizontal scroll on mobile */
            position: relative;
            background-color: #1a1a1a;
        }

        .background-animation {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://www.transparenttextures.com/patterns/black-felt.png'), 
                        linear-gradient(45deg, #110902, #2c1a0a, #1a1a1a);
            background-size: auto, cover;
            z-index: -1;
            animation: background-shimmer 20s infinite alternate;
        }

        /* Shimmering background animation */
        @keyframes background-shimmer {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }

        /* Main Content Container */
        .container {
            width: 90%;
            max-width: 800px;
            background: rgba(12, 12, 12, 0.75);
            padding: 1.5em; /* Reduced padding for mobile */
            border: 2px solid #6c5a44;
            border-radius: 10px;
            box-shadow: 0 0 30px rgba(255, 165, 0, 0.3), inset 0 0 20px rgba(0, 0, 0, 0.8);
            text-align: center;
            z-index: 1;
            backdrop-filter: blur(5px);
        }

        /* Header & Title Styling */
        header h1 {
            font-family: 'IM Fell English SC', serif;
            font-size: 2.5rem; /* Adjusted font size for mobile */
            color: #ffc477;
            text-shadow: 0 0 5px #ffc477, 0 0 10px #ff8c00, 0 0 15px #ff8c00;
            margin: 0;
        }

        .title-animation {
            animation: flicker 4s infinite alternate;
        }

        @keyframes flicker {
            0%, 18%, 22%, 25%, 53%, 57%, 100% {
                text-shadow:
                0 0 4px #fff,
                0 0 11px #ffc477,
                0 0 19px #ff8c00,
                0 0 40px #ff8c00,
                0 0 80px #ff8c00;
            }
            20%, 24%, 55% {        
                text-shadow: none;
            }
        }

        header .subtitle {
            font-size: 1rem;
            margin-top: 0.5em;
            color: #bda88e;
            letter-spacing: 1px;
        }

        /* Quiz Styling */
        .quiz-container {
            margin-top: 1.5em;
            padding: 1em;
            background: rgba(0,0,0,0.3);
            border: 1px solid #4a3f30;
            border-radius: 5px;
        }

        #question-text {
            font-size: 1.25rem;
            margin-bottom: 1.5em;
        }

        .btn-grid {
            display: grid;
            grid-template-columns: 1fr; /* Single column for mobile */
            gap: 10px;
        }

        /* Button Styling */
        .btn-forge {
            font-family: 'Cinzel', serif;
            font-size: 1rem;
            padding: 15px 10px;
            cursor: pointer;
            background: linear-gradient(145deg, #4d3a24, #3a2d1d);
            color: #e0dacc;
            border: 2px solid #6c5a44;
            border-radius: 5px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
            -webkit-tap-highlight-color: transparent; /* Remove tap highlight on mobile */
        }

        .btn-forge:hover:not(:disabled) {
            background: linear-gradient(145deg, #604a2d, #4d3a24);
            color: #fff;
            border-color: #ffc477;
            box-shadow: 0 0 15px rgba(255, 165, 0, 0.5);
            transform: translateY(-2px);
        }
        
        .btn-forge:active:not(:disabled) {
             transform: translateY(1px);
        }

        /* Button Feedback Classes */
        .btn-forge.correct {
            background: linear-gradient(145deg, #2b502b, #1e3a1e);
            border-color: #5cb85c;
            color: #fff;
        }

        .btn-forge.wrong {
            background: linear-gradient(145deg, #6e2a2a, #501e1e);
            border-color: #d9534f;
            color: #fff;
        }
        
        .btn-forge:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .feedback {
            margin-top: 1em;
            font-size: 1.1rem;
            font-weight: bold;
            min-height: 22px;
        }

        /* Result Screen */
        .result-screen {
            margin-top: 2em;
        }

        #score-text {
            font-size: 1.25rem;
            color: #ffc477;
        }

        /* Utility Classes */
        .hidden {
            display: none;
        }

        /* Media Queries for Responsiveness */
        @media (min-width: 768px) {
            .container {
                padding: 2em 3em;
            }

            header h1 {
                font-size: 3.5rem;
            }

            header .subtitle {
                font-size: 1.2rem;
            }

            #question-text {
                font-size: 1.5rem;
            }
            
            #score-text {
                 font-size: 1.5rem;
            }

            .btn-grid {
                grid-template-columns: repeat(2, 1fr); /* Two columns for larger screens */
                gap: 15px;
            }
        }

    </style>
</head>
<body>
    <div class="background-animation"></div>

    <div class="container">
        <header>
            <h1 class="title-animation">Metallurgy Mysteries</h1>
            <p class="subtitle">Unearth the secrets of the elements</p>
        </header>

        <main id="quiz-container" class="quiz-container">
            <!-- Start Screen -->
            <div id="start-screen">
                <h2>Welcome, Apprentice Metallurgist!</h2>
                <p>Test your knowledge of the ancient and modern arts of metalcraft. Are you ready to begin?</p>
                <button id="start-btn" class="btn-forge">Begin the Trial</button>
            </div>

            <!-- Question Screen -->
            <div id="question-screen" class="hidden">
                <h2 id="question-text">Question goes here...</h2>
                <div id="answer-buttons" class="btn-grid">
                    <!-- Buttons will be generated by JS -->
                </div>
                <div id="feedback" class="feedback"></div>
            </div>
        </main>
        
        <!-- Result Screen -->
        <footer id="result-screen" class="hidden result-screen">
            <h2>Your Trial is Complete!</h2>
            <p id="score-text">You have forged your destiny.</p>
            <button id="restart-btn" class="btn-forge">Forge Anew</button>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const startBtn = document.getElementById('start-btn');
            const restartBtn = document.getElementById('restart-btn');
            
            const startScreen = document.getElementById('start-screen');
            const questionScreen = document.getElementById('question-screen');
            const resultScreen = document.getElementById('result-screen');
            
            const questionText = document.getElementById('question-text');
            const answerButtons = document.getElementById('answer-buttons');
            const feedbackText = document.getElementById('feedback');
            const scoreText = document.getElementById('score-text');

            let currentQuestionIndex, score;

            const questions = [
                {
                    question: "The Bronze Age is named after an alloy of which two metals?",
                    answers: [
                        { text: "Copper and Tin", correct: true },
                        { text: "Iron and Carbon", correct: false },
                        { text: "Lead and Zinc", correct: false },
                        { text: "Gold and Silver", correct: false }
                    ]
                },
                {
                    question: "Which metal, once more valuable than gold, makes up 8% of the Earth's crust?",
                    answers: [
                        { text: "Titanium", correct: false },
                        { text: "Platinum", correct: false },
                        { text: "Aluminum", correct: true },
                        { text: "Silicon", correct: false }
                    ]
                },
                {
                    question: "What is the name for the process of extracting metals from ore by heating?",
                    answers: [
                        { text: "Quenching", correct: false },
                        { text: "Smelting", correct: true },
                        { text: "Forging", correct: false },
                        { text: "Annealing", correct: false }
                    ]
                },
                {
                    question: "Which metal has the highest melting point, making it ideal for light bulb filaments?",
                    answers: [
                        { text: "Tungsten", correct: true },
                        { text: "Osmium", correct: false },
                        { text: "Steel", correct: false },
                        { text: "Mercury", correct: false }
                    ]
                },
                {
                    question: "Adding about 0.8% of what element to iron transforms it into strong steel?",
                    answers: [
                        { text: "Nickel", correct: false },
                        { text: "Manganese", correct: false },
                        { text: "Chromium", correct: false },
                        { text: "Carbon", correct: true }
                    ]
                }
            ];

            startBtn.addEventListener('click', startQuiz);
            restartBtn.addEventListener('click', startQuiz);

            function startQuiz() {
                currentQuestionIndex = 0;
                score = 0;
                startScreen.classList.add('hidden');
                resultScreen.classList.add('hidden');
                questionScreen.classList.remove('hidden');
                showNextQuestion();
            }

            function showNextQuestion() {
                resetState();
                if (currentQuestionIndex < questions.length) {
                    const question = questions[currentQuestionIndex];
                    questionText.innerText = question.question;
                    question.answers.forEach(answer => {
                        const button = document.createElement('button');
                        button.innerText = answer.text;
                        button.classList.add('btn-forge');
                        if (answer.correct) {
                            button.dataset.correct = answer.correct;
                        }
                        button.addEventListener('click', selectAnswer, { once: true });
                        answerButtons.appendChild(button);
                    });
                } else {
                    showResults();
                }
            }

            function selectAnswer(e) {
                const selectedButton = e.target;
                const correct = selectedButton.dataset.correct === 'true';

                if (correct) {
                    score++;
                    feedbackText.innerText = "Correct! A master's insight!";
                    feedbackText.style.color = '#5cb85c';
                } else {
                    feedbackText.innerText = "Incorrect. The metal resists...";
                    feedbackText.style.color = '#d9534f';
                }

                // Show feedback for all buttons
                Array.from(answerButtons.children).forEach(button => {
                    setStatusClass(button, button.dataset.correct === 'true');
                    button.disabled = true; // Disable buttons after answering
                });
                
                // *** FASTER RESPONSE TIME ***
                // Wait 1 second, then go to the next question
                setTimeout(() => {
                    currentQuestionIndex++;
                    showNextQuestion();
                }, 1000); // Changed from 2000ms to 1000ms
            }

            function setStatusClass(element, correct) {
                if (correct) {
                    element.classList.add('correct');
                } else {
                    element.classList.add('wrong');
                }
            }

            function resetState() {
                feedbackText.innerText = '';
                while (answerButtons.firstChild) {
                    answerButtons.removeChild(answerButtons.firstChild);
                }
            }
            
            function showResults() {
                questionScreen.classList.add('hidden');
                resultScreen.classList.remove('hidden');
                scoreText.innerText = `You correctly answered ${score} out of ${questions.length} mysteries.`;
            }
        });
    </script>
</body>
</html>
